# Документация для скрипта парсинга на Unix сервере

Эта документация содержит инструкции по настройке и запуску скрипта парсинга данных о продуктах с Ozon. Скрипт использует Selenium и undetected_chromedriver для обхода антибот-защиты и сохраняет данные в базу данных MariaDB.

## Необходимые условия

1. **Python 3.11+**: Убедитесь, что Python установлен. Если нет, выполните:
    ```bash
    sudo apt-get update
    sudo apt-get install python3.11 python3-pip
    ```

2. **Chromedriver**: Установите Chromedriver:
    ```bash
    sudo apt-get update
    sudo apt-get install -y chromium-chromedriver
    ```

3. **Google Chrome**: Убедитесь, что Google Chrome установлен:
    ```bash
    sudo apt-get update
    sudo apt-get install google-chrome-stable
    ```

4. **MariaDB**: Установите и настройте MariaDB:
    ```bash
    sudo apt-get update
    sudo apt-get install mariadb-server
    sudo systemctl start mariadb
    sudo systemctl enable mariadb
    ```

5. **Python пакеты**: Установите зависимости:
    ```bash
    pip3 install selenium mysql-connector-python undetected-chromedriver
    ```

## Настройка скрипта

1. **Конфигурационный файл**: Создайте `config.txt` в директории скрипта и укажите параметры подключения к базе данных:
    ```
    [database]
    host = <адрес_сервера>
    user = <имя_пользователя>
    password = <пароль>
    database = <имя_базы_данных>
    ```

2. **Входной файл**: Создайте файл `SKU_Ozon.txt` с артикулами продуктов (по одному на строку).

3. **Права доступа**: Убедитесь, что скрипт имеет права на запись в `errors.log` и другие файлы.

## Запуск скрипта

### Ручной запуск

Для запуска скрипта выполните:
```bash
python3 main.py
```

### Автоматический запуск

Скрипт настроен на бесконечный цикл парсинга с задержкой в 60 секунд между итерациями. Для работы в фоновом режиме используйте `screen` или настройте cron.

## Устранение неполадок

1. **Проблемы с правами**: Проверьте права доступа к файлам и директориям.
2. **Зависимости**: Убедитесь, что все зависимости установлены.
3. **Chromedriver**: Проверьте путь к Chromedriver в коде (`/usr/bin/chromedriver`).
4. **Подключение к базе данных**: Проверьте параметры в `config.txt` и убедитесь, что MariaDB запущена.

## Заключение

Следуя этим инструкциям, вы сможете настроить и запустить скрипт для парсинга данных с Ozon. Скрипт автоматически сохраняет данные в базу MariaDB. Для дополнительной настройки обратитесь к комментариям в коде.


## Заключение

Следуя этим шагам, вы сможете настроить и запустить предоставленный скрипт парсинга на сервере Unix. Скрипт будет парсить данные о продуктах с Ozon и сохранять их в локальную базу данных SQLite. Для любых проблем или дальнейшей настройки обратитесь к комментариям в скрипте и при необходимости внесите изменения в код.
