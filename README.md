# Парсер данных с Ozon

Этот проект представляет собой скрипт для автоматического парсинга данных о товарах с сайта Ozon. Скрипт использует Selenium для взаимодействия с веб-страницами и SQLite для хранения данных.

## Функциональность

- Парсинг данных о товарах по их артикулам.
- Сохранение данных в локальную базу данных SQLite.
- Логирование ошибок в файл `errors.log`.
- Автоматическое обновление данных о товарах, включая цену, рейтинг, количество отзывов и доступность.
- Поддержка периодического запуска с интервалом в 1 час.

## Установка

1. Убедитесь, что у вас установлен Python версии 3.7 или выше.
2. Установите зависимости:
   ```bash
   pip install selenium
   ```
3. Установите драйвер ChromeDriver, совместимый с вашей версией браузера Google Chrome. Убедитесь, что путь к драйверу указан в переменной `service` в коде:
   ```python
   service = Service('/usr/bin/chromedriver')  # Укажите правильный путь
   ```

## Использование

1. Создайте файл `SKU_Ozon.txt` в корневой директории проекта. В этом файле укажите артикулы товаров, по одному на строку.
2. Запустите скрипт:
   ```bash
   python main.py
   ```
3. Скрипт будет автоматически запускаться каждые x минут. Для остановки нажмите `Ctrl+C`.

## Структура базы данных

Скрипт создает базу данных `ozon_data.db` с таблицей `products`. Поля таблицы:

- `id` — уникальный идентификатор записи.
- `timestamp` — дата и время последнего обновления записи.
- `product_code` — артикул товара.
- `price` — текущая цена товара.
- `card_price` — цена товара по карте Ozon.
- `original_price` — оригинальная цена товара.
- `price_change` — изменение цены ("Стало дешевле", "Стало дороже", "Без изменений").
- `rating` — рейтинг товара.
- `questions_count` — количество вопросов о товаре.
- `reviews_count` — количество отзывов о товаре.
- `available` — доступность товара ("Доступен" или "Нет в наличии").

## Логирование

Ошибки записываются в файл `errors.log` в формате:
```
<дата и время> - ERROR - <описание ошибки>
```

## Примечания

- Скрипт работает в режиме headless (без отображения браузера).
- Для корректной работы убедитесь, что сайт Ozon доступен и не блокирует автоматические запросы.
